{"ast":null,"code":"import moment from \"moment\";\nexport var eachExpense = function eachExpense(expenses) {\n  return Object.keys(expenses).map(function (key) {\n    return {\n      key: key,\n      value: expenses[key]\n    };\n  }).sort(function (a, b) {\n    // Turn your strings into dates, and then subtract them\n    // to get a value that is either negative, positive, or zero.\n    return new Date(b.value.date) - new Date(a.value.date);\n  });\n};\nexport var currentUsersExpenses = function currentUsersExpenses(eachExpense, currentUser) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid;\n  });\n}; // expenses in selected month and year\n\nexport var expensesinMonthAndYear = function expensesinMonthAndYear(eachExpense, currentUser, selectedMonth, selectedYear) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid;\n  }).filter(function (elem) {\n    return new Date(elem.value.date).getFullYear().toString() === selectedYear.toString();\n  }).filter(function (elem) {\n    return new Date(elem.value.date).getMonth().toString() === selectedMonth;\n  });\n}; // expenses in selected year\n\nexport var expensesinSelectedYear = function expensesinSelectedYear(eachExpense, currentUser, selectedYear) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid;\n  }).filter(function (elem) {\n    return new Date(elem.value.date).getFullYear().toString() === selectedYear.toString();\n  });\n}; // expenses in a selected date\n\nexport var expensesInDate = function expensesInDate(eachExpense, currentUser, date) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid && elem.value.date === date;\n  });\n}; // expenses in current month\n\nexport var currentMonthExpenses = function currentMonthExpenses(eachExpense, currentUser) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid && new Date(elem.value.date).getMonth() === new Date().getMonth() && new Date(elem.value.date).getFullYear() === new Date().getFullYear();\n  });\n}; // expense in current year\n\nexport var expensesinCurrentYear = function expensesinCurrentYear(eachExpense, currentUser) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid;\n  }).filter(function (elem) {\n    return new Date(elem.value.date).getFullYear().toString() === new Date().getFullYear().toString();\n  });\n}; // expenses in a particular month of this year\n\nexport var expensesinMonth = function expensesinMonth(eachExpense, currentUser, MonthNumber, selectedYear) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid;\n  }).filter(function (elem) {\n    return new Date(elem.value.date).getFullYear().toString() === selectedYear.toString();\n  }).filter(function (elem) {\n    return new Date(elem.value.date).getMonth().toString() === MonthNumber;\n  });\n}; // expense today\n\nexport var expensesToday = function expensesToday(eachExpense, currentUser) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid && new Date(elem.value.date).getMonth() === new Date().getMonth();\n  }).filter(function (elem) {\n    return new Date(elem.value.date).getDate() === new Date().getDate();\n  });\n}; // expense this week\n\nexport var expensesThisWeek = function expensesThisWeek(eachExpense, currentUser) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid && moment(elem.value.date, \"MM/DD/YYYY\").week() === moment(moment(new Date()), \"MM/DD/YYYY\").week() && moment(elem.value.date, \"MM/DD/YYYY\").year() === moment(moment(new Date()), \"MM/DD/YYYY\").year();\n  });\n}; // expenses Total\n\nexport var totalExpense = function totalExpense(expenses) {\n  if (expenses.length) {\n    return expenses.map(function (elem) {\n      return Number(elem.value.expense);\n    }).reduce(function (prev, cur) {\n      return prev + cur;\n    });\n  } else {\n    return 0;\n  }\n}; // most spend day\n\nexport var mostSpentDay = function mostSpentDay(expenses) {\n  var monday = 0;\n  var tuesday = 0;\n  var wednesday = 0;\n  var thursday = 0;\n  var friday = 0;\n  var saturday = 0;\n  var sunday = 0;\n  expenses.map(function (elem) {\n    switch (elem.value.day.toString()) {\n      case \"0\":\n        sunday = sunday + 1;\n        return \"\";\n\n      case \"1\":\n        monday = monday + 1;\n        return \"\";\n\n      case \"2\":\n        tuesday = tuesday + 1;\n        return \"\";\n\n      case \"3\":\n        wednesday = wednesday + 1;\n        return \"\";\n\n      case \"4\":\n        thursday = thursday + 1;\n        return \"\";\n\n      case \"5\":\n        friday = friday + 1;\n        return \"\";\n\n      case \"6\":\n        saturday = saturday + 1;\n        return \"\";\n\n      default:\n        return \"\";\n    }\n  });\n  var mostDaysObj = {\n    sunday: sunday,\n    monday: monday,\n    tuesday: tuesday,\n    wednesday: wednesday,\n    thursday: thursday,\n    friday: friday,\n    saturday: saturday\n  };\n  var sortable = [];\n\n  for (var day in mostDaysObj) {\n    sortable.push([day, mostDaysObj[day]]);\n  }\n\n  var sortedCategories = sortable.sort(function (a, b) {\n    return b[1] - a[1];\n  });\n  return {\n    mostSpentDay: expenses.length ? sortedCategories[0][0] : \"-\",\n    leastSpentDay: expenses.length ? sortedCategories[6][0] : \"-\"\n  };\n}; // Total expenses in Each month\n\nexport var totalExpensesInEachMonthOfThisYear = function totalExpensesInEachMonthOfThisYear(expenses, eachExpense, currentUser, selectedYear) {\n  var expensesOfAllMonthsInThisYear = [];\n\n  for (var i = 0; i <= 11; i++) {\n    expensesOfAllMonthsInThisYear.push(totalExpense(expensesinMonth(eachExpense, currentUser, String(i), selectedYear)));\n  }\n\n  return expensesOfAllMonthsInThisYear;\n}; // Total for each category\n\nexport var calculateTotalForAllCategories = function calculateTotalForAllCategories(expenses) {\n  var categories = [\"Food\", \"Automobile\", \"Entertainment\", \"Clothing\", \"Healthcare\", \"Travel\", \"Shopping\", \"Personal Care\", \"Investment\", \"Gifts & Donations\", \"Bills & Utilities\", \"Others\"];\n  var categoryTotal = {\n    Food: 0,\n    Automobile: 0,\n    Entertainment: 0,\n    Clothing: 0,\n    Healthcare: 0,\n    Travel: 0,\n    Shopping: 0,\n    \"Personal Care\": 0,\n    Investment: 0,\n    \"Gifts & Donations\": 0,\n    \"Bills & Utilities\": 0,\n    Others: 0\n  };\n\n  var totalForACategory = function totalForACategory(expenses, category) {\n    var temp = expenses.filter(function (elem) {\n      return elem.value.category === category;\n    }).map(function (el) {\n      return Number(el.value.expense);\n    });\n    var category = category;\n\n    if (temp.length) {\n      return categoryTotal[category] = temp.reduce(function (prev, cur) {\n        return prev + cur;\n      });\n    } else {\n      return categoryTotal[category] = 0;\n    }\n  };\n\n  categories.map(function (category) {\n    return totalForACategory(expenses, category);\n  });\n  console.log(\"category total\", categoryTotal);\n  return categoryTotal;\n}; // most spent on category\n\nexport var mostSpentCategory = function mostSpentCategory(expenses) {\n  var categoryTotals = calculateTotalForAllCategories(expenses);\n  var sortable = [];\n\n  for (var cat in categoryTotals) {\n    sortable.push([cat, categoryTotals[cat]]);\n  }\n\n  var sortedCategories = sortable.sort(function (a, b) {\n    return b[1] - a[1];\n  });\n  return expenses.length ? sortedCategories[0][0] : \"-\";\n}; // all categories\n\nexport var categories = [\"Food\", \"Automobile\", \"Entertainment\", \"Clothing\", \"Healthcare\", \"Travel\", \"Shopping\", \"Personal Care\", \"Investment\", \"Gifts & Donations\", \"Bills & Utilities\", \"Others\"]; // colors for each category\n\nexport var categoryColors = [\"#FF965D\", \"#FFCC78\", \"#A08E78\", \"#8DA685\", \"#00A3EA\", \"#3EA75E\", \"#16B498\", \"#FF1945\", \"#FF5473\", \"#927959\", \"#7E0332\", \"#872AEF\"]; // retrun border color for each category - daily and monthly view\n\n/*\n@method : categoryName\n@params : \n    cat: category name\n    name: name of the component (Basically we're retrieving styles based on category here)\n@return : styles based on category for a particular component based on name \n*/\n\nexport var categoryName = function categoryName(cat, name) {\n  switch (cat) {\n    case \"Food\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #FF965D\"\n      } : {\n        borderLeft: \"10px solid #FF965D\"\n      };\n\n    case \"Automobile\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #FFCC78\"\n      } : {\n        borderLeft: \"10px solid #FFCC78\"\n      };\n\n    case \"Entertainment\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #A08E78\"\n      } : {\n        borderLeft: \"10px solid #A08E78\"\n      };\n\n    case \"Clothing\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #8DA685\"\n      } : {\n        borderLeft: \"10px solid #8DA685\"\n      };\n\n    case \"Healthcare\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #00A3EA\"\n      } : {\n        borderLeft: \"10px solid #00A3EA\"\n      };\n\n    case \"Travel\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #3EA75E\"\n      } : {\n        borderLeft: \"10px solid #3EA75E\"\n      };\n\n    case \"Shopping\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #16B498\"\n      } : {\n        borderLeft: \"10px solid #16B498\"\n      };\n\n    case \"Personal Care\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #FF1945\"\n      } : {\n        borderLeft: \"10px solid #FF1945\"\n      };\n\n    case \"Investment\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #FF5473\"\n      } : {\n        borderLeft: \"10px solid #FF5473\"\n      };\n\n    case \"Gifts & Donations\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #927959\"\n      } : {\n        borderLeft: \"10px solid #927959\"\n      };\n\n    case \"Bills & Utilities\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #7E0332\"\n      } : {\n        borderLeft: \"10px solid #7E0332\"\n      };\n\n    case \"Others\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #872AEF\"\n      } : {\n        borderLeft: \"10px solid #872AEF\"\n      };\n\n    default:\n      return {\n        borderBottom: \"5px solid orange\"\n      };\n  }\n};\nexport var categoryIcon = function categoryIcon(category) {\n  switch (category) {\n    case \"Food\":\n      return \"cutlery\";\n\n    case \"Automobile\":\n      return \"motorcycle\";\n\n    case \"Entertainment\":\n      return \"film\";\n\n    case \"Clothing\":\n      return \"shopping-bag\";\n\n    case \"Healthcare\":\n      return \"medkit\";\n\n    case \"Travel\":\n      return \"plane\";\n\n    case \"Shopping\":\n      return \"shopping-cart\";\n\n    case \"Personal Care\":\n      return \"user-md\";\n\n    case \"Investment\":\n      return \"get-pocket\";\n\n    case \"Gifts & Donations\":\n      return \"gift\";\n\n    case \"Bills & Utilities\":\n      return \"columns\";\n\n    case \"Others\":\n      return \"circle-o\";\n\n    default:\n      return \"bars\";\n  }\n};\nexport var getCatColor = function getCatColor(category) {\n  switch (category) {\n    case \"Food\":\n      return \"#FF965D\";\n\n    case \"Automobile\":\n      return \"#FFCC78\";\n\n    case \"Entertainment\":\n      return \"#A08E78\";\n\n    case \"Clothing\":\n      return \"#8DA685\";\n\n    case \"Healthcare\":\n      return \"#00A3EA\";\n\n    case \"Travel\":\n      return \"#3EA75E\";\n\n    case \"Shopping\":\n      return \"#16B498\";\n\n    case \"Personal Care\":\n      return \"#FF1945\";\n\n    case \"Investment\":\n      return \"#FF5473\";\n\n    case \"Gifts & Donations\":\n      return \"#927959\";\n\n    case \"Bills & Utilities\":\n      return \"#7E0332\";\n\n    case \"Others\":\n      return \"#872AEF\";\n\n    default:\n      return \"#fff\";\n  }\n};\nexport var setCurrencyIcon = function setCurrencyIcon(currency) {\n  switch (currency) {\n    case \"Indian Rupees\":\n      return \"fa-rupee\";\n\n    case \"US Dollars\":\n      return \"fa-dollar\";\n\n    case \"Pounds\":\n      return \"fa-gbp\";\n\n    case \"Yen\":\n      return \"fa-yen\";\n\n    case \"Euro\":\n      return \"fa-euro\";\n\n    default:\n      return \"fa-rupee\";\n  }\n};\nexport var filterExpensesByCriteria = function filterExpensesByCriteria(startDate, endDate, category, expenseFrom, expenseTo, thisUsersExpenses) {\n  var start = new Date(startDate);\n  var end = new Date(endDate);\n  var currentDate = new Date(start);\n  var between = [];\n  var filteredExpenses = [];\n\n  while (currentDate <= end) {\n    between.push(moment(new Date(currentDate)).format(\"MM/DD/YYYY\"));\n    currentDate.setDate(currentDate.getDate() + 1);\n  }\n\n  between.forEach(function (elem) {\n    return thisUsersExpenses.filter(function (el) {\n      return elem === el.value.date ? filteredExpenses.push(el) : \"\";\n    });\n  });\n  filteredExpenses = filteredExpenses.filter(function (elem) {\n    return elem.value.category === category;\n  }).filter(function (elem) {\n    return Number(elem.value.expense) >= Number(expenseFrom) && Number(elem.value.expense) <= Number(expenseTo);\n  });\n  return filteredExpenses;\n}; // Total loan amount that you need to pay or get paid\n\nexport var loanTakenOrGivenAmt = function loanTakenOrGivenAmt(thisUsersLoans, takenOrGiven) {\n  if (thisUsersLoans.length && takenOrGiven) {\n    var loans = thisUsersLoans.filter(function (elem) {\n      return elem.value.loanType === takenOrGiven && elem.value.status === \"Pending\";\n    });\n    return loans.length ? loans.map(function (elem) {\n      return Number(elem.value.amount);\n    }).reduce(function (prev, cur) {\n      return prev + cur;\n    }) : 0;\n  } else {\n    return 0;\n  }\n}; // get all the dates of a particular monthly\n\nexport var getAllTheDatesInAMonth = function getAllTheDatesInAMonth(selectedYear, selectedMonth) {\n  //var date = new Date(), y = date.getFullYear(), m = date.getMonth();\n  var firstDay = new Date(Number(selectedYear), Number(selectedMonth), 1);\n  var lastDay = new Date(Number(selectedYear), Number(selectedMonth) + 1, 0);\n  firstDay = moment(firstDay).format(\"MM/DD/YYYY\");\n  lastDay = moment(lastDay).format(\"MM/DD/YYYY\"); // Returns an array of dates between the two dates\n\n  var getDates = function getDates(startDate, endDate) {\n    var dates = [],\n        currentDate = startDate,\n        addDays = function addDays(days) {\n      var date = new Date(this.valueOf());\n      date.setDate(date.getDate() + days);\n      return date;\n    };\n\n    while (currentDate <= endDate) {\n      dates.push(currentDate);\n      currentDate = addDays.call(currentDate, 1);\n    }\n\n    return dates.map(function (date) {\n      return moment(date).format(\"MM/DD/YYYY\");\n    });\n  }; // Usage\n\n\n  var dates = getDates(new Date(firstDay), new Date(lastDay)); //var datesinSelectedMonth = [];\n  //dates.map(function (date) {\n  //datesinSelectedMonth.push(moment(date).format(\"MM/DD/YYYY\"));\n  //});\n\n  return dates;\n}; // previous 3 and next 3 years\n\nexport var yearsGenereator = function yearsGenereator() {\n  var defaultYears = [];\n  var dateVal = new Date();\n  var currentYear = dateVal.getFullYear();\n  var cutOffYears = 4; // using 5 years as cutoff as per reports cutoffyears to keep inline\n\n  for (var i = currentYear - cutOffYears; i <= currentYear + cutOffYears; i++) {\n    defaultYears.push(i);\n  }\n\n  return defaultYears;\n};","map":{"version":3,"sources":["D:\\itstk\\Downloads\\Compressed\\expense-manager-react-master\\src\\components\\Util.js"],"names":["moment","eachExpense","expenses","Object","keys","map","key","value","sort","a","b","Date","date","currentUsersExpenses","currentUser","filter","elem","uid","expensesinMonthAndYear","selectedMonth","selectedYear","getFullYear","toString","getMonth","expensesinSelectedYear","expensesInDate","currentMonthExpenses","expensesinCurrentYear","expensesinMonth","MonthNumber","expensesToday","getDate","expensesThisWeek","week","year","totalExpense","length","Number","expense","reduce","prev","cur","mostSpentDay","monday","tuesday","wednesday","thursday","friday","saturday","sunday","day","mostDaysObj","sortable","push","sortedCategories","leastSpentDay","totalExpensesInEachMonthOfThisYear","expensesOfAllMonthsInThisYear","i","String","calculateTotalForAllCategories","categories","categoryTotal","Food","Automobile","Entertainment","Clothing","Healthcare","Travel","Shopping","Investment","Others","totalForACategory","category","temp","el","console","log","mostSpentCategory","categoryTotals","cat","categoryColors","categoryName","name","borderBottom","borderLeft","categoryIcon","getCatColor","setCurrencyIcon","currency","filterExpensesByCriteria","startDate","endDate","expenseFrom","expenseTo","thisUsersExpenses","start","end","currentDate","between","filteredExpenses","format","setDate","forEach","loanTakenOrGivenAmt","thisUsersLoans","takenOrGiven","loans","loanType","status","amount","getAllTheDatesInAMonth","firstDay","lastDay","getDates","dates","addDays","days","valueOf","call","yearsGenereator","defaultYears","dateVal","currentYear","cutOffYears"],"mappings":"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","sourcesContent":["import moment from \"moment\";\n\nexport const eachExpense = expenses => {\n    return Object.keys(expenses)\n        .map(function (key) {\n            return { key: key, value: expenses[key] };\n        })\n        .sort(function (a, b) {\n            // Turn your strings into dates, and then subtract them\n            // to get a value that is either negative, positive, or zero.\n            return new Date(b.value.date) - new Date(a.value.date);\n        });\n};\n\nexport const currentUsersExpenses = (eachExpense, currentUser) => {\n    return eachExpense.filter(elem => elem.value.uid === currentUser.uid);\n};\n\n// expenses in selected month and year\nexport const expensesinMonthAndYear = (eachExpense, currentUser, selectedMonth, selectedYear) => {\n    return eachExpense\n        .filter(elem => elem.value.uid === currentUser.uid)\n        .filter(elem => new Date(elem.value.date).getFullYear().toString() === selectedYear.toString())\n        .filter(elem => new Date(elem.value.date).getMonth().toString() === selectedMonth);\n};\n\n// expenses in selected year\nexport const expensesinSelectedYear = (eachExpense, currentUser, selectedYear) => {\n    return eachExpense\n        .filter(elem => elem.value.uid === currentUser.uid)\n        .filter(elem => new Date(elem.value.date).getFullYear().toString() === selectedYear.toString());\n};\n\n// expenses in a selected date\nexport const expensesInDate = (eachExpense, currentUser, date) => {\n    return eachExpense.filter(elem => elem.value.uid === currentUser.uid && elem.value.date === date);\n};\n\n// expenses in current month\nexport const currentMonthExpenses = (eachExpense, currentUser) => {\n    return eachExpense.filter(\n        elem =>\n            elem.value.uid === currentUser.uid &&\n            new Date(elem.value.date).getMonth() === new Date().getMonth() &&\n            new Date(elem.value.date).getFullYear() === new Date().getFullYear()\n    );\n};\n\n// expense in current year\nexport const expensesinCurrentYear = (eachExpense, currentUser) => {\n    return eachExpense\n        .filter(elem => elem.value.uid === currentUser.uid)\n        .filter(elem => new Date(elem.value.date).getFullYear().toString() === new Date().getFullYear().toString());\n};\n\n// expenses in a particular month of this year\nexport const expensesinMonth = (eachExpense, currentUser, MonthNumber, selectedYear) => {\n    return eachExpense\n        .filter(elem => elem.value.uid === currentUser.uid)\n        .filter(elem => new Date(elem.value.date).getFullYear().toString() === selectedYear.toString())\n        .filter(elem => new Date(elem.value.date).getMonth().toString() === MonthNumber);\n};\n\n// expense today\nexport const expensesToday = (eachExpense, currentUser) => {\n    return eachExpense\n        .filter(\n            elem => elem.value.uid === currentUser.uid && new Date(elem.value.date).getMonth() === new Date().getMonth()\n        )\n        .filter(elem => new Date(elem.value.date).getDate() === new Date().getDate());\n};\n\n// expense this week\nexport const expensesThisWeek = (eachExpense, currentUser) => {\n    return eachExpense.filter(\n        elem =>\n            elem.value.uid === currentUser.uid &&\n            moment(elem.value.date, \"MM/DD/YYYY\").week() === moment(moment(new Date()), \"MM/DD/YYYY\").week() &&\n            moment(elem.value.date, \"MM/DD/YYYY\").year() === moment(moment(new Date()), \"MM/DD/YYYY\").year()\n    );\n};\n\n// expenses Total\nexport const totalExpense = expenses => {\n    if (expenses.length) {\n        return expenses.map(elem => Number(elem.value.expense)).reduce((prev, cur) => prev + cur);\n    } else {\n        return 0;\n    }\n};\n\n// most spend day\nexport const mostSpentDay = expenses => {\n    let monday = 0;\n    let tuesday = 0;\n    let wednesday = 0;\n    let thursday = 0;\n    let friday = 0;\n    let saturday = 0;\n    let sunday = 0;\n\n    expenses.map(elem => {\n        switch (elem.value.day.toString()) {\n            case \"0\":\n                sunday = sunday + 1;\n                return \"\";\n            case \"1\":\n                monday = monday + 1;\n                return \"\";\n            case \"2\":\n                tuesday = tuesday + 1;\n                return \"\";\n            case \"3\":\n                wednesday = wednesday + 1;\n                return \"\";\n            case \"4\":\n                thursday = thursday + 1;\n                return \"\";\n            case \"5\":\n                friday = friday + 1;\n                return \"\";\n            case \"6\":\n                saturday = saturday + 1;\n                return \"\";\n            default:\n                return \"\";\n        }\n    });\n\n    let mostDaysObj = {\n        sunday: sunday,\n        monday: monday,\n        tuesday: tuesday,\n        wednesday: wednesday,\n        thursday: thursday,\n        friday: friday,\n        saturday: saturday\n    };\n\n    var sortable = [];\n    for (var day in mostDaysObj) {\n        sortable.push([day, mostDaysObj[day]]);\n    }\n\n    let sortedCategories = sortable.sort(function (a, b) {\n        return b[1] - a[1];\n    });\n\n    return {\n        mostSpentDay: expenses.length ? sortedCategories[0][0] : \"-\",\n        leastSpentDay: expenses.length ? sortedCategories[6][0] : \"-\"\n    };\n};\n\n// Total expenses in Each month\nexport const totalExpensesInEachMonthOfThisYear = (expenses, eachExpense, currentUser, selectedYear) => {\n    let expensesOfAllMonthsInThisYear = [];\n\n    for (var i = 0; i <= 11; i++) {\n        expensesOfAllMonthsInThisYear.push(\n            totalExpense(expensesinMonth(eachExpense, currentUser, String(i), selectedYear))\n        );\n    }\n    return expensesOfAllMonthsInThisYear;\n};\n\n// Total for each category\nexport const calculateTotalForAllCategories = expenses => {\n    const categories = [\n        \"Food\",\n        \"Automobile\",\n        \"Entertainment\",\n        \"Clothing\",\n        \"Healthcare\",\n        \"Travel\",\n        \"Shopping\",\n        \"Personal Care\",\n        \"Investment\",\n        \"Gifts & Donations\",\n        \"Bills & Utilities\",\n        \"Others\"\n    ];\n\n    let categoryTotal = {\n        Food: 0,\n        Automobile: 0,\n        Entertainment: 0,\n        Clothing: 0,\n        Healthcare: 0,\n        Travel: 0,\n        Shopping: 0,\n        \"Personal Care\": 0,\n        Investment: 0,\n        \"Gifts & Donations\": 0,\n        \"Bills & Utilities\": 0,\n        Others: 0\n    };\n\n    const totalForACategory = function (expenses, category) {\n        let temp = expenses.filter(elem => elem.value.category === category).map(el => Number(el.value.expense));\n\n        var category = category;\n        if (temp.length) {\n            return (categoryTotal[category] = temp.reduce((prev, cur) => prev + cur));\n        } else {\n            return (categoryTotal[category] = 0);\n        }\n    };\n\n    categories.map(category => totalForACategory(expenses, category));\n\n    console.log(\"category total\", categoryTotal)\n\n    return categoryTotal;\n};\n\n// most spent on category\nexport const mostSpentCategory = expenses => {\n    let categoryTotals = calculateTotalForAllCategories(expenses);\n\n    var sortable = [];\n    for (var cat in categoryTotals) {\n        sortable.push([cat, categoryTotals[cat]]);\n    }\n\n    let sortedCategories = sortable.sort(function (a, b) {\n        return b[1] - a[1];\n    });\n\n    return expenses.length ? sortedCategories[0][0] : \"-\";\n};\n\n// all categories\nexport const categories = [\n    \"Food\",\n    \"Automobile\",\n    \"Entertainment\",\n    \"Clothing\",\n    \"Healthcare\",\n    \"Travel\",\n    \"Shopping\",\n    \"Personal Care\",\n    \"Investment\",\n    \"Gifts & Donations\",\n    \"Bills & Utilities\",\n    \"Others\"\n];\n\n// colors for each category\nexport const categoryColors = [\n    \"#FF965D\",\n    \"#FFCC78\",\n    \"#A08E78\",\n    \"#8DA685\",\n    \"#00A3EA\",\n    \"#3EA75E\",\n    \"#16B498\",\n    \"#FF1945\",\n    \"#FF5473\",\n    \"#927959\",\n    \"#7E0332\",\n    \"#872AEF\"\n];\n\n// retrun border color for each category - daily and monthly view\n/*\n@method : categoryName\n@params : \n    cat: category name\n    name: name of the component (Basically we're retrieving styles based on category here)\n@return : styles based on category for a particular component based on name \n*/\nexport const categoryName = (cat, name) => {\n    switch (cat) {\n        case \"Food\":\n            return name === \"card\" ? { borderBottom: \"5px solid #FF965D\" } : { borderLeft: \"10px solid #FF965D\" };\n        case \"Automobile\":\n            return name === \"card\" ? { borderBottom: \"5px solid #FFCC78\" } : { borderLeft: \"10px solid #FFCC78\" };\n        case \"Entertainment\":\n            return name === \"card\" ? { borderBottom: \"5px solid #A08E78\" } : { borderLeft: \"10px solid #A08E78\" };\n        case \"Clothing\":\n            return name === \"card\" ? { borderBottom: \"5px solid #8DA685\" } : { borderLeft: \"10px solid #8DA685\" };\n        case \"Healthcare\":\n            return name === \"card\" ? { borderBottom: \"5px solid #00A3EA\" } : { borderLeft: \"10px solid #00A3EA\" };\n        case \"Travel\":\n            return name === \"card\" ? { borderBottom: \"5px solid #3EA75E\" } : { borderLeft: \"10px solid #3EA75E\" };\n        case \"Shopping\":\n            return name === \"card\" ? { borderBottom: \"5px solid #16B498\" } : { borderLeft: \"10px solid #16B498\" };\n        case \"Personal Care\":\n            return name === \"card\" ? { borderBottom: \"5px solid #FF1945\" } : { borderLeft: \"10px solid #FF1945\" };\n        case \"Investment\":\n            return name === \"card\" ? { borderBottom: \"5px solid #FF5473\" } : { borderLeft: \"10px solid #FF5473\" };\n        case \"Gifts & Donations\":\n            return name === \"card\" ? { borderBottom: \"5px solid #927959\" } : { borderLeft: \"10px solid #927959\" };\n        case \"Bills & Utilities\":\n            return name === \"card\" ? { borderBottom: \"5px solid #7E0332\" } : { borderLeft: \"10px solid #7E0332\" };\n        case \"Others\":\n            return name === \"card\" ? { borderBottom: \"5px solid #872AEF\" } : { borderLeft: \"10px solid #872AEF\" };\n        default:\n            return { borderBottom: \"5px solid orange\" };\n    }\n};\n\nexport const categoryIcon = category => {\n    switch (category) {\n        case \"Food\":\n            return \"cutlery\";\n        case \"Automobile\":\n            return \"motorcycle\";\n        case \"Entertainment\":\n            return \"film\";\n        case \"Clothing\":\n            return \"shopping-bag\";\n        case \"Healthcare\":\n            return \"medkit\";\n        case \"Travel\":\n            return \"plane\";\n        case \"Shopping\":\n            return \"shopping-cart\";\n        case \"Personal Care\":\n            return \"user-md\";\n        case \"Investment\":\n            return \"get-pocket\";\n        case \"Gifts & Donations\":\n            return \"gift\";\n        case \"Bills & Utilities\":\n            return \"columns\";\n        case \"Others\":\n            return \"circle-o\";\n        default:\n            return \"bars\";\n    }\n};\n\nexport const getCatColor = category => {\n    switch (category) {\n        case \"Food\":\n            return \"#FF965D\";\n        case \"Automobile\":\n            return \"#FFCC78\";\n        case \"Entertainment\":\n            return \"#A08E78\";\n        case \"Clothing\":\n            return \"#8DA685\";\n        case \"Healthcare\":\n            return \"#00A3EA\";\n        case \"Travel\":\n            return \"#3EA75E\";\n        case \"Shopping\":\n            return \"#16B498\";\n        case \"Personal Care\":\n            return \"#FF1945\";\n        case \"Investment\":\n            return \"#FF5473\";\n        case \"Gifts & Donations\":\n            return \"#927959\";\n        case \"Bills & Utilities\":\n            return \"#7E0332\";\n        case \"Others\":\n            return \"#872AEF\";\n        default:\n            return \"#fff\";\n    }\n};\n\nexport const setCurrencyIcon = currency => {\n    switch (currency) {\n        case \"Indian Rupees\":\n            return \"fa-rupee\";\n        case \"US Dollars\":\n            return \"fa-dollar\";\n        case \"Pounds\":\n            return \"fa-gbp\";\n        case \"Yen\":\n            return \"fa-yen\";\n        case \"Euro\":\n            return \"fa-euro\";\n        default:\n            return \"fa-rupee\";\n    }\n};\n\nexport const filterExpensesByCriteria = (startDate, endDate, category, expenseFrom, expenseTo, thisUsersExpenses) => {\n    var start = new Date(startDate);\n    var end = new Date(endDate);\n    var currentDate = new Date(start);\n    var between = [];\n    var filteredExpenses = [];\n\n    while (currentDate <= end) {\n        between.push(moment(new Date(currentDate)).format(\"MM/DD/YYYY\"));\n        currentDate.setDate(currentDate.getDate() + 1);\n    }\n\n    between.forEach(function (elem) {\n        return thisUsersExpenses.filter(function (el) {\n            return elem === el.value.date ? filteredExpenses.push(el) : \"\";\n        });\n    });\n\n    filteredExpenses = filteredExpenses\n        .filter(elem => {\n            return elem.value.category === category;\n        })\n        .filter(elem => {\n            return Number(elem.value.expense) >= Number(expenseFrom) && Number(elem.value.expense) <= Number(expenseTo);\n        });\n\n    return filteredExpenses;\n};\n\n// Total loan amount that you need to pay or get paid\nexport const loanTakenOrGivenAmt = (thisUsersLoans, takenOrGiven) => {\n    if (thisUsersLoans.length && takenOrGiven) {\n        let loans = thisUsersLoans.filter(\n            elem => elem.value.loanType === takenOrGiven && elem.value.status === \"Pending\"\n        );\n\n        return loans.length ? loans.map(elem => Number(elem.value.amount)).reduce((prev, cur) => prev + cur) : 0;\n    } else {\n        return 0;\n    }\n};\n\n// get all the dates of a particular monthly\n\nexport const getAllTheDatesInAMonth = (selectedYear, selectedMonth) => {\n    //var date = new Date(), y = date.getFullYear(), m = date.getMonth();\n    var firstDay = new Date(Number(selectedYear), Number(selectedMonth), 1);\n    var lastDay = new Date(Number(selectedYear), Number(selectedMonth) + 1, 0);\n\n    firstDay = moment(firstDay).format(\"MM/DD/YYYY\");\n    lastDay = moment(lastDay).format(\"MM/DD/YYYY\");\n\n    // Returns an array of dates between the two dates\n    var getDates = function (startDate, endDate) {\n        var dates = [],\n            currentDate = startDate,\n            addDays = function (days) {\n                var date = new Date(this.valueOf());\n                date.setDate(date.getDate() + days);\n                return date;\n            };\n        while (currentDate <= endDate) {\n            dates.push(currentDate);\n            currentDate = addDays.call(currentDate, 1);\n        }\n        return dates.map(date => moment(date).format(\"MM/DD/YYYY\"));\n    };\n\n    // Usage\n    var dates = getDates(new Date(firstDay), new Date(lastDay));\n    //var datesinSelectedMonth = [];\n    //dates.map(function (date) {\n    //datesinSelectedMonth.push(moment(date).format(\"MM/DD/YYYY\"));\n    //});\n\n    return dates;\n};\n\n// previous 3 and next 3 years\nexport const yearsGenereator = () => {\n    var defaultYears = [];\n    var dateVal = new Date();\n    var currentYear = dateVal.getFullYear();\n    var cutOffYears = 4; // using 5 years as cutoff as per reports cutoffyears to keep inline\n    for (var i = currentYear - cutOffYears; i <= currentYear + cutOffYears; i++) {\n        defaultYears.push(i);\n    }\n\n    return defaultYears;\n};\n"]},"metadata":{},"sourceType":"module"}