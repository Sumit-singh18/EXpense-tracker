{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\sumit\\\\OneDrive\\\\Desktop\\\\expense-manager-react-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\sumit\\\\OneDrive\\\\Desktop\\\\expense-manager-react-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\sumit\\\\OneDrive\\\\Desktop\\\\expense-manager-react-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\sumit\\\\OneDrive\\\\Desktop\\\\expense-manager-react-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\sumit\\\\OneDrive\\\\Desktop\\\\expense-manager-react-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\sumit\\\\OneDrive\\\\Desktop\\\\expense-manager-react-master\\\\src\\\\components\\\\DailyView\\\\index.js\";\nimport React, { Component } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\nimport ExpenseTable from \"./ExpenseTable.js\";\nimport TotalCard from \"./TotalCard\";\nimport CategoryTotalCard from \"./CategoryTotalCard\";\nimport MobileExpenseTable from \"./MobileExpenseTable\";\nimport DoughnutChart from \"./DoughnutChart\";\nimport GenerateExcel from \"./GenerateExcel\";\nimport Loader from \"./../Common/Loader\";\nimport * as analytics from \"./../../analytics/analytics\";\n\nvar DailyViewPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DailyViewPage, _Component);\n\n  function DailyViewPage(props) {\n    var _this;\n\n    _classCallCheck(this, DailyViewPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DailyViewPage).call(this, props));\n\n    function parseURLParams(url) {\n      var queryStart = url.indexOf(\"?\") + 1,\n          queryEnd = url.indexOf(\"#\") + 1 || url.length + 1,\n          query = url.slice(queryStart, queryEnd - 1),\n          pairs = query.replace(/\\+/g, \" \").split(\"&\"),\n          parms = {},\n          i,\n          n,\n          v,\n          nv;\n      if (query === url || query === \"\") return;\n\n      for (i = 0; i < pairs.length; i++) {\n        nv = pairs[i].split(\"=\", 2);\n        n = decodeURIComponent(nv[0]);\n        v = decodeURIComponent(nv[1]);\n        if (!parms.hasOwnProperty(n)) parms[n] = [];\n        parms[n].push(nv.length === 2 ? v : null);\n      }\n\n      return parms;\n    }\n\n    var urlString = window.location.href;\n    var urlParams = parseURLParams(urlString);\n    _this.state = {\n      date: urlParams ? moment(urlParams.date[0]) : moment(),\n      convertedCurrency: null\n    };\n    return _this;\n  }\n\n  _createClass(DailyViewPage, [{\n    key: \"handelDateSelect\",\n    value: function handelDateSelect(date) {\n      this.setState({\n        date: date\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      analytics.initGA();\n      analytics.logPageView(); // if travel mode then convert currency else set to 1\n\n      if (this.props.settings && this.props.settings.travelMode === \"on\") {\n        var returnCur = function returnCur(cur) {\n          switch (cur) {\n            case \"Indian Rupees\":\n              return \"INR\";\n\n            case \"US Dollars\":\n              return \"USD\";\n\n            case \"Pounds\":\n              return \"EUR\";\n\n            case \"Euro\":\n              return \"EUR\";\n\n            case \"Yen\":\n              return \"YER\";\n\n            default:\n              return \"INR\";\n          }\n        };\n\n        var fromcur = returnCur(this.props.settings.fromCurrency);\n        var tocur = returnCur(this.props.settings.currency);\n        fetch(\"https://free.currencyconverterapi.com/api/v5/convert?q=\".concat(fromcur, \"_\").concat(tocur, \"&compact=y&apiKey=\").concat(process.env.REACT_APP_FREE_CURRENCY_CONVERTER_API_KEY)).then(function (resp) {\n          return resp.json();\n        }) // Transform the data into json\n        .then(function (data) {\n          _this2.setState({\n            convertedCurrency: Object.values(data)[0].val\n          });\n        }).catch(function () {\n          alert(\"Some Problem with the currency converter api. Values will Fallback to default currency\");\n\n          _this2.setState({\n            convertedCurrency: 1\n          });\n        });\n      } else {\n        this.setState({\n          convertedCurrency: 1\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var datePickerHeader = {\n        background: \"#887657\",\n        color: \"#fff\",\n        padding: \"15px\",\n        margin: \"0 0 15px 0\",\n        borderRadius: \"5px\"\n      };\n      var form = {\n        padding: window.screen.width > 720 ? \"15px 0 0 0\" : \"15px\"\n      };\n      var pad15 = {\n        padding: \"15px\"\n      };\n      var styleFromSettings = {\n        fontFamily: this.props.settings ? this.props.settings.font : \"sans-serif\",\n        backgroundColor: this.props.settings ? this.props.settings.mode === \"night\" ? \"#484842\" : \"auto\" : \"auto\",\n        minHeight: \"91vh\"\n      };\n      var nmBgForCharts = {\n        backgroundColor: this.props.settings ? this.props.settings.mode === \"night\" ? \"#2C3034\" : \"#EDF0EF\" : \"#EDF0EF\",\n        padding: \"35px\",\n        margin: \"15px 0\"\n      };\n      var rightCol = {\n        paddingLeft: \"0\"\n      };\n      var white = {\n        color: this.props.settings ? this.props.settings.mode === \"night\" ? \"#fff\" : \"#000\" : \"#000\"\n      };\n\n      if (this.props.settings && this.props.cards) {\n        return React.createElement(\"div\", {\n          className: \"container-fluid\",\n          style: styleFromSettings,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-sm-4 mobileNoPadding\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          onSubmit: this.handleSubmit,\n          style: form,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group row mobileNoPadding\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"col-2 col-form-label\",\n          style: white,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, \"Date\")), React.createElement(\"div\", {\n          className: \"col-10\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(DatePicker, {\n          className: \"form-control date \" + (this.props.settings.mode === \"night\" ? \"inputNightMode\" : \"inputDayMode\"),\n          name: \"date\",\n          selected: this.state.date,\n          onSelect: this.handelDateSelect.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        })))), React.createElement(TotalCard, {\n          expenses: this.props.expenses,\n          date: this.state.date.format(\"MM/DD/YYYY\"),\n          authUser: this.props.user,\n          settings: this.props.settings,\n          cards: this.props.cards,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }), React.createElement(CategoryTotalCard, {\n          expenses: this.props.expenses,\n          date: this.state.date.format(\"MM/DD/YYYY\"),\n          authUser: this.props.user,\n          cards: this.props.cards,\n          settings: this.props.settings,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-sm-8 mobileNoPadding\",\n          style: rightCol,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-sm-12 mobileNoPadding\",\n          style: this.props.settings.mode === \"night\" ? nmBgForCharts : pad15,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, React.createElement(DoughnutChart, {\n          expenses: this.props.expenses,\n          date: this.state.date.format(\"MM/DD/YYYY\"),\n          authUser: this.props.user,\n          settings: this.props.settings,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        })), React.createElement(GenerateExcel, {\n          expenses: this.props.expenses,\n          date: this.state.date.format(\"MM/DD/YYYY\"),\n          authUser: this.props.user,\n          settings: this.props.settings,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }), this.state.convertedCurrency ? window.screen.width > 720 ? React.createElement(ExpenseTable, {\n          expenses: this.props.expenses,\n          date: this.state.date.format(\"MM/DD/YYYY\"),\n          authUser: this.props.user,\n          settings: this.props.settings,\n          convertedCurrency: this.state.convertedCurrency,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }) : React.createElement(MobileExpenseTable, {\n          expenses: this.props.expenses,\n          authUser: this.props.user,\n          date: this.state.date.format(\"MM/DD/YYYY\"),\n          settings: this.props.settings,\n          convertedCurrency: this.state.convertedCurrency,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }) : React.createElement(Loader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }))));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, React.createElement(Loader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return DailyViewPage;\n}(Component);\n\nexport default DailyViewPage;","map":{"version":3,"sources":["C:\\Users\\sumit\\OneDrive\\Desktop\\expense-manager-react-master\\src\\components\\DailyView\\index.js"],"names":["React","Component","DatePicker","moment","ExpenseTable","TotalCard","CategoryTotalCard","MobileExpenseTable","DoughnutChart","GenerateExcel","Loader","analytics","DailyViewPage","props","parseURLParams","url","queryStart","indexOf","queryEnd","length","query","slice","pairs","replace","split","parms","i","n","v","nv","decodeURIComponent","hasOwnProperty","push","urlString","window","location","href","urlParams","state","date","convertedCurrency","setState","initGA","logPageView","settings","travelMode","returnCur","cur","fromcur","fromCurrency","tocur","currency","fetch","process","env","REACT_APP_FREE_CURRENCY_CONVERTER_API_KEY","then","resp","json","data","Object","values","val","catch","alert","datePickerHeader","background","color","padding","margin","borderRadius","form","screen","width","pad15","styleFromSettings","fontFamily","font","backgroundColor","mode","minHeight","nmBgForCharts","rightCol","paddingLeft","white","cards","handleSubmit","handelDateSelect","bind","expenses","format","user"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\n\nimport ExpenseTable from \"./ExpenseTable.js\";\nimport TotalCard from \"./TotalCard\";\nimport CategoryTotalCard from \"./CategoryTotalCard\";\nimport MobileExpenseTable from \"./MobileExpenseTable\";\nimport DoughnutChart from \"./DoughnutChart\";\nimport GenerateExcel from \"./GenerateExcel\";\nimport Loader from \"./../Common/Loader\";\n\nimport * as analytics from \"./../../analytics/analytics\";\n\nclass DailyViewPage extends Component {\n    constructor(props) {\n        super(props);\n\n        function parseURLParams(url) {\n            var queryStart = url.indexOf(\"?\") + 1,\n                queryEnd = url.indexOf(\"#\") + 1 || url.length + 1,\n                query = url.slice(queryStart, queryEnd - 1),\n                pairs = query.replace(/\\+/g, \" \").split(\"&\"),\n                parms = {},\n                i,\n                n,\n                v,\n                nv;\n\n            if (query === url || query === \"\") return;\n\n            for (i = 0; i < pairs.length; i++) {\n                nv = pairs[i].split(\"=\", 2);\n                n = decodeURIComponent(nv[0]);\n                v = decodeURIComponent(nv[1]);\n\n                if (!parms.hasOwnProperty(n)) parms[n] = [];\n                parms[n].push(nv.length === 2 ? v : null);\n            }\n            return parms;\n        }\n\n        var urlString = window.location.href;\n        var urlParams = parseURLParams(urlString);\n\n        this.state = { date: urlParams ? moment(urlParams.date[0]) : moment(), convertedCurrency: null };\n    }\n\n    handelDateSelect(date) {\n        this.setState({\n            date: date\n        });\n    }\n\n    componentDidMount() {\n        analytics.initGA();\n        analytics.logPageView();\n\n        // if travel mode then convert currency else set to 1\n        if (this.props.settings && this.props.settings.travelMode === \"on\") {\n            function returnCur(cur) {\n                switch (cur) {\n                    case \"Indian Rupees\":\n                        return \"INR\";\n                    case \"US Dollars\":\n                        return \"USD\";\n                    case \"Pounds\":\n                        return \"EUR\";\n                    case \"Euro\":\n                        return \"EUR\";\n                    case \"Yen\":\n                        return \"YER\";\n                    default:\n                        return \"INR\";\n                }\n            }\n\n            const fromcur = returnCur(this.props.settings.fromCurrency);\n            const tocur = returnCur(this.props.settings.currency);\n\n            fetch(`https://free.currencyconverterapi.com/api/v5/convert?q=${fromcur}_${tocur}&compact=y&apiKey=${process.env.REACT_APP_FREE_CURRENCY_CONVERTER_API_KEY}`)\n                .then(resp => resp.json()) // Transform the data into json\n                .then(data => {\n                    this.setState({\n                        convertedCurrency: Object.values(data)[0].val\n                    });\n                })\n                .catch(() => {\n                    alert(\"Some Problem with the currency converter api. Values will Fallback to default currency\");\n                    this.setState({ convertedCurrency: 1 });\n                });\n        } else {\n            this.setState({ convertedCurrency: 1 });\n        }\n    }\n\n    render() {\n        const datePickerHeader = {\n            background: \"#887657\",\n            color: \"#fff\",\n            padding: \"15px\",\n            margin: \"0 0 15px 0\",\n            borderRadius: \"5px\"\n        };\n\n        const form = {\n            padding: window.screen.width > 720 ? \"15px 0 0 0\" : \"15px\"\n        };\n\n        const pad15 = {\n            padding: \"15px\"\n        };\n\n        const styleFromSettings = {\n            fontFamily: this.props.settings ? this.props.settings.font : \"sans-serif\",\n            backgroundColor: this.props.settings ? (this.props.settings.mode === \"night\" ? \"#484842\" : \"auto\") : \"auto\",\n            minHeight: \"91vh\"\n        };\n\n        const nmBgForCharts = {\n            backgroundColor: this.props.settings\n                ? this.props.settings.mode === \"night\"\n                    ? \"#2C3034\"\n                    : \"#EDF0EF\"\n                : \"#EDF0EF\",\n            padding: \"35px\",\n            margin: \"15px 0\"\n        };\n\n        const rightCol = { paddingLeft: \"0\" };\n\n        const white = {\n            color: this.props.settings ? (this.props.settings.mode === \"night\" ? \"#fff\" : \"#000\") : \"#000\"\n        };\n\n        if (this.props.settings && this.props.cards) {\n            return (\n                <div className=\"container-fluid\" style={styleFromSettings}>\n                    <div className=\"row\">\n                        <div className=\"col-sm-4 mobileNoPadding\">\n                            <form onSubmit={this.handleSubmit} style={form}>\n                                {/* <div style={datePickerHeader}> View your expenses on a particular date </div> */}\n                                <div className=\"form-group row mobileNoPadding\">\n                                    <label className=\"col-2 col-form-label\" style={white}>\n                                        <span>Date</span>\n                                    </label>\n                                    <div className=\"col-10\">\n                                        <DatePicker\n                                            className={\n                                                \"form-control date \" +\n                                                (this.props.settings.mode === \"night\"\n                                                    ? \"inputNightMode\"\n                                                    : \"inputDayMode\")\n                                            }\n                                            name=\"date\"\n                                            selected={this.state.date}\n                                            onSelect={this.handelDateSelect.bind(this)}\n                                        />\n                                    </div>\n                                </div>\n                            </form>\n                            <TotalCard\n                                expenses={this.props.expenses}\n                                date={this.state.date.format(\"MM/DD/YYYY\")}\n                                authUser={this.props.user}\n                                settings={this.props.settings}\n                                cards={this.props.cards}\n                            />\n                            <CategoryTotalCard\n                                expenses={this.props.expenses}\n                                date={this.state.date.format(\"MM/DD/YYYY\")}\n                                authUser={this.props.user}\n                                cards={this.props.cards}\n                                settings={this.props.settings}\n                            />\n                        </div>\n                        <div className=\"col-sm-8 mobileNoPadding\" style={rightCol}>\n                            <div\n                                className=\"col-sm-12 mobileNoPadding\"\n                                style={this.props.settings.mode === \"night\" ? nmBgForCharts : pad15}\n                            >\n                                <DoughnutChart\n                                    expenses={this.props.expenses}\n                                    date={this.state.date.format(\"MM/DD/YYYY\")}\n                                    authUser={this.props.user}\n                                    settings={this.props.settings}\n                                />\n                            </div>\n                            <GenerateExcel\n                                expenses={this.props.expenses}\n                                date={this.state.date.format(\"MM/DD/YYYY\")}\n                                authUser={this.props.user}\n                                settings={this.props.settings}\n                            />\n                            {this.state.convertedCurrency ? (\n                                window.screen.width > 720 ? (\n                                    <ExpenseTable\n                                        expenses={this.props.expenses}\n                                        date={this.state.date.format(\"MM/DD/YYYY\")}\n                                        authUser={this.props.user}\n                                        settings={this.props.settings}\n                                        convertedCurrency={this.state.convertedCurrency}\n                                    />\n                                ) : (\n                                        <MobileExpenseTable\n                                            expenses={this.props.expenses}\n                                            authUser={this.props.user}\n                                            date={this.state.date.format(\"MM/DD/YYYY\")}\n                                            settings={this.props.settings}\n                                            convertedCurrency={this.state.convertedCurrency}\n                                        />\n                                    )\n                            ) : (\n                                    <Loader />\n                                )}\n                        </div>\n                    </div>\n                </div>\n            );\n        } else {\n            return (\n                <div>\n                    <Loader />\n                </div>\n            );\n        }\n    }\n}\n\nexport default DailyViewPage;\n"]},"metadata":{},"sourceType":"module"}